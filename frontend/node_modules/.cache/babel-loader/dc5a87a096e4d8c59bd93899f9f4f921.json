{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._adress = options.baseUrl;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getInfoAboutUser(token) {\n    return fetch(`${this._adress}/users/me`, {\n      headers: {\n        authorization: `${token}`\n      }\n    }).then(this._checkResponse).then(data => {\n      return data;\n    });\n  }\n\n  setInfoAboutUser(info, token) {\n    return fetch(`${this._adress}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: `${info.fullname}`,\n        about: `${info.about}`\n      })\n    }).then(this._checkResponse);\n  }\n\n  uploadNewAvatar(link, token) {\n    return fetch(`${this._adress}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        avatar: `${link}`\n      })\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this._adress}/cards`, {\n      headers: {\n        authorization: `${token}`\n      }\n    }).then(this._checkResponse).then(data => {\n      return data;\n    });\n  }\n\n  addNewCard(info, token) {\n    return fetch(`${this._adress}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: `${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name: `${info.cardname}`,\n        link: `${info.link}`\n      })\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId, token) {\n    return fetch(`${this._adress}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(this._checkResponse);\n  }\n\n  likeCard(cardId, token) {\n    return fetch(`${this._adress}/cards/${cardId}/likes`, {\n      method: \"PUT\",\n      headers: {\n        authorization: `${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(this._checkResponse);\n  }\n\n  unlikeCard(cardId, token) {\n    return fetch(`${this._adress}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(cardId, isLiked, token) {\n    return fetch(`${this._adress}/cards/${cardId}/likes`, {\n      method: isLiked ? 'PUT' : 'DELETE',\n      headers: {\n        authorization: `${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(this._checkResponse);\n  }\n\n}\n/*-----------------*/\n\n\nexport const api = new Api({\n  baseUrl: \"https://api.backendishard.nomoreparties.sbs/\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n/* api */","map":{"version":3,"sources":["C:/Users/User/dev/react-mesto-auth/src/utils/Api.js"],"names":["Api","constructor","options","_adress","baseUrl","_checkResponse","res","ok","json","Promise","reject","status","getInfoAboutUser","token","fetch","headers","authorization","then","data","setInfoAboutUser","info","method","body","JSON","stringify","name","fullname","about","uploadNewAvatar","link","avatar","getInitialCards","addNewCard","cardname","deleteCard","cardId","likeCard","unlikeCard","changeLikeCardStatus","isLiked","api"],"mappings":"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","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._adress = options.baseUrl;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getInfoAboutUser(token) {\r\n    return fetch(`${this._adress}/users/me`, {\r\n      headers: {\r\n        authorization: `${token}`,\r\n      },\r\n    })\r\n      .then(this._checkResponse)\r\n      .then((data) => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  setInfoAboutUser(info, token) {\r\n    return fetch(`${this._adress}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: `${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: `${info.fullname}`,\r\n        about: `${info.about}`,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  uploadNewAvatar(link, token) {\r\n    return fetch(`${this._adress}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: `${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: `${link}`,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCards(token) {\r\n    return fetch(`${this._adress}/cards`, {\r\n      headers: {\r\n        authorization: `${token}`,\r\n      },\r\n    })\r\n      .then(this._checkResponse)\r\n      .then((data) => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  addNewCard(info, token) {\r\n    return fetch(`${this._adress}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: `${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: `${info.cardname}`,\r\n        link: `${info.link}`,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId, token) {\r\n    return fetch(`${this._adress}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: `${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  likeCard(cardId, token) {\r\n    return fetch(`${this._adress}/cards/${cardId}/likes`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: `${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  unlikeCard(cardId, token) {\r\n    return fetch(`${this._adress}/cards/${cardId}/likes`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: `${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked, token){\r\n    return fetch(`${this._adress}/cards/${cardId}/likes`, {\r\n      method: isLiked ? 'PUT' : 'DELETE',\r\n      headers: {\r\n        authorization: `${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\n/*-----------------*/\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://api.backendishard.nomoreparties.sbs/\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n}); /* api */\r\n\r\n"]},"metadata":{},"sourceType":"module"}