{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{api}from\"../utils/Api\";import Card from\"./Card\";import profileImageAfterPath from\"../images/profile__image_after.svg\";import defaultProfileImagePath from\"../images/profile__image.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";{/* дефолтная картинка, если у пользователя отсутствует соединение */}function Main(props){{/*_states_of_userData______*/}var _React$useState=React.useState(\"\".concat(defaultProfileImagePath)),_React$useState2=_slicedToArray(_React$useState,2),userAvatar=_React$useState2[0],setUserAvatar=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),userName=_React$useState6[0],setUserName=_React$useState6[1];/*---------------------------*/{/*_state_of_cardArray______*/}var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];/*---------------------------*/React.useEffect(function(){api.getInfoAboutUser().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){console.log(err);});api.getInitialCards().then(function(res){setCards(res);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__main-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__picture-container\",onClick:props.onNewAvatar,children:[/*#__PURE__*/_jsx(\"img\",{src:userAvatar,className:\"profile__image\",alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"img\",{src:profileImageAfterPath,className:\"profile__avatar-edit\",alt:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__text\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__about\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-button\",\"aria-label\":\"\\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onClick:props.onEditProfile})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button\",onClick:props.onCardAdd})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"elements\",children:[cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onClose:props.onCardDelete,onClick:function onClick(){props.onCardClick(card.name,card.link);}},card._id);}),\" \"]})]});}export default Main;","map":{"version":3,"sources":["C:/Users/User/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","profileImageAfterPath","defaultProfileImagePath","Main","props","useState","userAvatar","setUserAvatar","userDescription","setUserDescription","userName","setUserName","cards","setCards","useEffect","getInfoAboutUser","then","res","name","about","avatar","catch","err","console","log","getInitialCards","onNewAvatar","onEditProfile","onCardAdd","map","card","onCardDelete","onCardClick","link","_id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { api } from \"../utils/Api\";\r\nimport Card from \"./Card\";\r\nimport profileImageAfterPath from \"../images/profile__image_after.svg\";\r\nimport defaultProfileImagePath from \"../images/profile__image.jpg\"; {/* дефолтная картинка, если у пользователя отсутствует соединение */}\r\n\r\nfunction Main(props) \r\n{{/*_states_of_userData______*/}\r\n  const [userAvatar, setUserAvatar] = React.useState(`${defaultProfileImagePath}`);\r\n  const [userDescription, setUserDescription] = React.useState(\"\");\r\n  const [userName, setUserName] = React.useState(\"\");\r\n  /*---------------------------*/\r\n  \r\n  {/*_state_of_cardArray______*/}\r\n  const [cards, setCards] = React.useState([]);\r\n  /*---------------------------*/\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getInfoAboutUser()\r\n      .then((res) => {\r\n        setUserName(res.name);\r\n        setUserDescription(res.about);\r\n        setUserAvatar(res.avatar);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    api\r\n      .getInitialCards()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__main-container\">\r\n          <div\r\n            className=\"profile__picture-container\"\r\n            onClick={props.onNewAvatar}\r\n          >\r\n            <img\r\n              src={userAvatar}\r\n              className=\"profile__image\"\r\n              alt=\"аватарка пользователя\"\r\n            />\r\n            <img\r\n              src={profileImageAfterPath}\r\n              className=\"profile__avatar-edit\"\r\n              alt=\"Редактирование\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__text\">\r\n              <h1 className=\"profile__name\">{userName}</h1>\r\n              <p className=\"profile__about\">{userDescription}</p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              aria-label=\"редактировать профиль\"\r\n              onClick={props.onEditProfile}\r\n            />\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__button\"\r\n          onClick={props.onCardAdd}\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map(card => (\r\n          <Card\r\n            card={card}\r\n            key={card._id}\r\n            onClose={props.onCardDelete}\r\n            onClick={() => {\r\n              props.onCardClick(card.name, card.link)\r\n            }}\r\n          />\r\n        ))} {/* первоначальный рендер карточек */}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}