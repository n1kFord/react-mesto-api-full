{"ast":null,"code":"import _defineProperty from\"C:/Users/User/dev/mesto-full/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/User/dev/mesto-full/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/User/dev/mesto-full/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(props){var _React$useState=React.useState({cardname:\"\",link:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),newCard=_React$useState2[0],setNewCard=_React$useState2[1];var submitButtonText=props.isLoading?\"Добавление...\":\"Создать\";function handleChange(e){setNewCard(_objectSpread(_objectSpread({},newCard),{},_defineProperty({},e.target.name,e.target.value)));}function handleSubmit(e){e.preventDefault();props.onAddPlace({cardname:newCard.cardname,link:newCard.link});setNewCard({cardname:\"\",link:\"\"});// решил оставить, ибо при самбите может произойти ошибка и попап не закроется\n}React.useEffect(function(){setNewCard({cardname:\"\",link:\"\"});},[props.isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"card-add\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",formName:\"add\",isOpen:props.isOpen,formClass:\"popup__form_type_card-add\",buttonLabel:submitButtonText,onClose:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__input popup__input_type_card-name\",name:\"cardname\",id:\"cardname-input\",minLength:2,maxLength:30,onChange:handleChange,value:newCard.cardname,required:true,placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-placeholder cardname-input-error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"popup__input popup__input_type_card-link\",name:\"link\",id:\"link-input\",onChange:handleChange,value:newCard.link,required:true,placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-placeholder link-input-error\"})]});}export default AddPlacePopup;","map":{"version":3,"sources":["C:/Users/User/dev/mesto-full/react-mesto-api-full/frontend/src/components/AddPlacePopup.js"],"names":["React","PopupWithForm","AddPlacePopup","props","useState","cardname","link","newCard","setNewCard","submitButtonText","isLoading","handleChange","e","target","name","value","handleSubmit","preventDefault","onAddPlace","useEffect","isOpen","onClose"],"mappings":"ibAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC5B,oBAA8BH,KAAK,CAACI,QAAN,CAAe,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,IAAI,CAAE,EAAtB,CAAf,CAA9B,oDAAOC,OAAP,qBAAgBC,UAAhB,qBACA,GAAIC,CAAAA,gBAAgB,CAAGN,KAAK,CAACO,SAAN,CAAkB,eAAlB,CAAoC,SAA3D,CACA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBJ,UAAU,gCACLD,OADK,wBAEPK,CAAC,CAACC,MAAF,CAASC,IAFF,CAESF,CAAC,CAACC,MAAF,CAASE,KAFlB,GAAV,CAID,CAED,QAASC,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GACAd,KAAK,CAACe,UAAN,CAAiB,CACfb,QAAQ,CAAEE,OAAO,CAACF,QADH,CAEfC,IAAI,CAAEC,OAAO,CAACD,IAFC,CAAjB,EAIAE,UAAU,CAAC,CACTH,QAAQ,CAAE,EADD,CAETC,IAAI,CAAE,EAFG,CAAD,CAAV,CAGI;AACL,CAEDN,KAAK,CAACmB,SAAN,CAAgB,UAAM,CACpBX,UAAU,CAAC,CACTH,QAAQ,CAAE,EADD,CAETC,IAAI,CAAE,EAFG,CAAD,CAAV,CAID,CALD,CAKG,CAACH,KAAK,CAACiB,MAAP,CALH,EAOA,mBACE,MAAC,aAAD,EACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAC,+DAFR,CAGE,QAAQ,CAAC,KAHX,CAIE,MAAM,CAAEjB,KAAK,CAACiB,MAJhB,CAKE,SAAS,CAAC,2BALZ,CAME,WAAW,CAAEX,gBANf,CAOE,OAAO,CAAEN,KAAK,CAACkB,OAPjB,CAQE,QAAQ,CAAEL,YARZ,wBAUE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,0CAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,EAAE,CAAC,gBAJL,CAKE,SAAS,CAAE,CALb,CAME,SAAS,CAAE,EANb,CAOE,QAAQ,CAAEL,YAPZ,CAQE,KAAK,CAAEJ,OAAO,CAACF,QARjB,CASE,QAAQ,KATV,CAUE,WAAW,CAAC,kDAVd,EAVF,cAsBE,aAAM,SAAS,CAAC,8CAAhB,EAtBF,cAuBE,cACE,IAAI,CAAC,KADP,CAEE,SAAS,CAAC,0CAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,EAAE,CAAC,YAJL,CAKE,QAAQ,CAAEM,YALZ,CAME,KAAK,CAAEJ,OAAO,CAACD,IANjB,CAOE,QAAQ,KAPV,CAQE,WAAW,CAAC,oGARd,EAvBF,cAiCE,aAAM,SAAS,CAAC,0CAAhB,EAjCF,GADF,CAqCD,CAED,cAAeJ,CAAAA,aAAf","sourcesContent":["import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [newCard, setNewCard] = React.useState({ cardname: \"\", link: \"\" });\r\n  let submitButtonText = props.isLoading ? \"Добавление...\" : \"Создать\";\r\n  function handleChange(e) {\r\n    setNewCard({\r\n      ...newCard,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddPlace({\r\n      cardname: newCard.cardname,\r\n      link: newCard.link,\r\n    });\r\n    setNewCard({\r\n      cardname: \"\",\r\n      link: \"\",\r\n    }); // решил оставить, ибо при самбите может произойти ошибка и попап не закроется\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setNewCard({\r\n      cardname: \"\",\r\n      link: \"\",\r\n    });\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card-add\"\r\n      title=\"Новое место\"\r\n      formName=\"add\"\r\n      isOpen={props.isOpen}\r\n      formClass=\"popup__form_type_card-add\"\r\n      buttonLabel={submitButtonText}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_card-name\"\r\n        name=\"cardname\"\r\n        id=\"cardname-input\"\r\n        minLength={2}\r\n        maxLength={30}\r\n        onChange={handleChange}\r\n        value={newCard.cardname}\r\n        required\r\n        placeholder=\"Название\"\r\n      />\r\n      <span className=\"popup__form-placeholder cardname-input-error\" />\r\n      <input\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_type_card-link\"\r\n        name=\"link\"\r\n        id=\"link-input\"\r\n        onChange={handleChange}\r\n        value={newCard.link}\r\n        required\r\n        placeholder=\"Ссылка на картинку\"\r\n      />\r\n      <span className=\"popup__form-placeholder link-input-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n"]},"metadata":{},"sourceType":"module"}