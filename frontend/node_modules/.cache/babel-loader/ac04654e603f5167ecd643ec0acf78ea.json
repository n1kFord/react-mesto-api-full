{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{currentUserContext}from\"../contexts/CurrentUserContext\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(currentUserContext);var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var submitButtonText=props.isLoading?\"Изменение...\":\"Сохранить\";React.useEffect(function(){setUserName(currentUser.name);setUserDescription(currentUser.description);},[currentUser,props.isOpen]);function handleSubmit(e){e.preventDefault();props.onUpdateUserInfo({fullname:userName,about:userDescription});}function handleChange(e){e.target.name===\"fullname\"?setUserName(e.target.value):setUserDescription(e.target.value);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile-edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",formName:\"change\",isOpen:props.isOpen,formClass:\"popup__form_type_edit\",buttonLabel:submitButtonText,onClose:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__input popup__input_type_name\",name:\"fullname\",value:userName||'',onChange:handleChange,required:true,id:\"fullname-input\",minLength:2,maxLength:40,placeholder:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-placeholder fullname-input-error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userDescription||'',onChange:handleChange,className:\"popup__input popup__input_type_about\",name:\"about\",id:\"about-input\",required:true,minLength:2,maxLength:200,placeholder:\"\\u043E \\u0441\\u0435\\u0431\\u0435\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-placeholder about-input-error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["C:/Users/User/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","currentUserContext","PopupWithForm","EditProfilePopup","props","currentUser","useContext","useState","userName","setUserName","userDescription","setUserDescription","submitButtonText","isLoading","useEffect","name","description","isOpen","handleSubmit","e","preventDefault","onUpdateUserInfo","fullname","about","handleChange","target","value","onClose"],"mappings":"wHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC/B,GAAMC,CAAAA,WAAW,CAAGL,KAAK,CAACM,UAAN,CAAiBL,kBAAjB,CAApB,CACA,oBAAgCD,KAAK,CAACO,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8CT,KAAK,CAACO,QAAN,CAAe,EAAf,CAA9C,qDAAOG,eAAP,qBAAwBC,kBAAxB,qBAEA,GAAIC,CAAAA,gBAAgB,CAAGR,KAAK,CAACS,SAAN,CAAkB,cAAlB,CAAmC,WAA1D,CAEAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBL,WAAW,CAACJ,WAAW,CAACU,IAAb,CAAX,CACAJ,kBAAkB,CAACN,WAAW,CAACW,WAAb,CAAlB,CACD,CAHD,CAGG,CAACX,WAAD,CAAcD,KAAK,CAACa,MAApB,CAHH,EAKA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GAEAhB,KAAK,CAACiB,gBAAN,CAAuB,CACrBC,QAAQ,CAAEd,QADW,CAErBe,KAAK,CAAEb,eAFc,CAAvB,EAID,CACD,QAASc,CAAAA,YAAT,CAAsBL,CAAtB,CAAyB,CACvBA,CAAC,CAACM,MAAF,CAASV,IAAT,GAAkB,UAAlB,CAA+BN,WAAW,CAACU,CAAC,CAACM,MAAF,CAASC,KAAV,CAA1C,CAA6Df,kBAAkB,CAACQ,CAAC,CAACM,MAAF,CAASC,KAAV,CAA/E,CACD,CAED,mBACE,MAAC,aAAD,EACE,IAAI,CAAC,cADP,CAEE,KAAK,CAAC,2HAFR,CAGE,QAAQ,CAAC,QAHX,CAIE,MAAM,CAAEtB,KAAK,CAACa,MAJhB,CAKE,SAAS,CAAC,uBALZ,CAME,WAAW,CAAEL,gBANf,CAOE,OAAO,CAAER,KAAK,CAACuB,OAPjB,CAQE,QAAQ,CAAET,YARZ,wBAUE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,qCAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAEV,QAAQ,EAAI,EAJrB,CAKE,QAAQ,CAAEgB,YALZ,CAME,QAAQ,KANV,CAOE,EAAE,CAAC,gBAPL,CAQE,SAAS,CAAE,CARb,CASE,SAAS,CAAE,EATb,CAUE,WAAW,CAAC,oBAVd,EAVF,cAsBE,aAAM,SAAS,CAAC,8CAAhB,EAtBF,cAuBE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEd,eAAe,EAAI,EAF5B,CAGE,QAAQ,CAAEc,YAHZ,CAIE,SAAS,CAAC,sCAJZ,CAKE,IAAI,CAAC,OALP,CAME,EAAE,CAAC,aANL,CAOE,QAAQ,KAPV,CAQE,SAAS,CAAE,CARb,CASE,SAAS,CAAE,GATb,CAUE,WAAW,CAAC,iCAVd,EAvBF,cAmCE,aAAM,SAAS,CAAC,2CAAhB,EAnCF,GADF,CAuCD,CAED,cAAerB,CAAAA,gBAAf","sourcesContent":["import React from \"react\";\r\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(currentUserContext);\r\n  const [userName, setUserName] = React.useState(\"\");\r\n  const [userDescription, setUserDescription] = React.useState(\"\");\r\n\r\n  let submitButtonText = props.isLoading ? \"Изменение...\" : \"Сохранить\";\r\n\r\n  React.useEffect(() => {\r\n    setUserName(currentUser.name);\r\n    setUserDescription(currentUser.description);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUserInfo({\r\n      fullname: userName,\r\n      about: userDescription,\r\n    });\r\n  }\r\n  function handleChange(e) {\r\n    e.target.name === \"fullname\" ? setUserName(e.target.value) : setUserDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile-edit\"\r\n      title=\"Редактировать профиль\"\r\n      formName=\"change\"\r\n      isOpen={props.isOpen}\r\n      formClass=\"popup__form_type_edit\"\r\n      buttonLabel={submitButtonText}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        name=\"fullname\"\r\n        value={userName || ''}\r\n        onChange={handleChange}\r\n        required\r\n        id=\"fullname-input\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        placeholder=\"Имя\"\r\n      />\r\n      <span className=\"popup__form-placeholder fullname-input-error\" />\r\n      <input\r\n        type=\"text\"\r\n        value={userDescription || ''}\r\n        onChange={handleChange}\r\n        className=\"popup__input popup__input_type_about\"\r\n        name=\"about\"\r\n        id=\"about-input\"\r\n        required\r\n        minLength={2}\r\n        maxLength={200}\r\n        placeholder=\"о себе\"\r\n      />\r\n      <span className=\"popup__form-placeholder about-input-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"]},"metadata":{},"sourceType":"module"}