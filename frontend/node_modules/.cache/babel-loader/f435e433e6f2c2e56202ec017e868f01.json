{"ast":null,"code":"import _objectSpread from\"C:/Users/User/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/User/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/User/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{api}from\"../utils/Api\";import Card from\"./Card\";import profileImageAfterPath from\"../images/profile__image_after.svg\";import ImagePopup from\"./ImagePopup\";import defaultProfileImagePath from\"../images/profile__image.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";{/* дефолтная картинка, если у пользователя отсутствует соединение */}function Main(props){{/*_states_of_userData______*/}var _React$useState=React.useState(\"\".concat(defaultProfileImagePath)),_React$useState2=_slicedToArray(_React$useState,2),userAvatar=_React$useState2[0],setUserAvatar=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),userName=_React$useState6[0],setUserName=_React$useState6[1];/*---------------------------*/{/*_state_of_imagePopup______*/}var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isElementPopupOpen=_React$useState8[0],setIsElementPopupOpen=_React$useState8[1];var _React$useState9=React.useState({name:\"\",link:\"\"}),_React$useState10=_slicedToArray(_React$useState9,2),data=_React$useState10[0],setData=_React$useState10[1];/*---------------------------*/{/*_state_of_cardArray______*/}var _React$useState11=React.useState([]),_React$useState12=_slicedToArray(_React$useState11,2),cards=_React$useState12[0],setCards=_React$useState12[1];/*---------------------------*/React.useEffect(function(){api.getInfoAboutUser().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){console.log(err);});api.getInitialCards().then(function(res){setCards([].concat(_toConsumableArray(cards),_toConsumableArray(res)));}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__main-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__picture-container\",onClick:props.onNewAvatar,children:[/*#__PURE__*/_jsx(\"img\",{src:userAvatar,className:\"profile__image\",alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"img\",{src:profileImageAfterPath,className:\"profile__avatar-edit\",alt:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__text\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__about\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__edit-button\",\"aria-label\":\"\\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onClick:props.onEditProfile})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button\",onClick:props.onCardAdd})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"elements\",children:[cards.map(function(card,i){return/*#__PURE__*/_jsx(Card,{card:card,onClose:props.onCardDelete,onCardClick:function onCardClick(){setData(_objectSpread(_objectSpread({},data),{},{name:\"\".concat(card.name),link:\"\".concat(card.link)}));setIsElementPopupOpen(true);}},i);}),isElementPopupOpen&&/*#__PURE__*/_jsx(ImagePopup,{name:data.name,imageSrc:data.link,isOpen:true,onClose:function onClose(){setIsElementPopupOpen(false);}}),\" \"]})]});}export default Main;","map":{"version":3,"sources":["C:/Users/User/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","profileImageAfterPath","ImagePopup","defaultProfileImagePath","Main","props","useState","userAvatar","setUserAvatar","userDescription","setUserDescription","userName","setUserName","isElementPopupOpen","setIsElementPopupOpen","name","link","data","setData","cards","setCards","useEffect","getInfoAboutUser","then","res","about","avatar","catch","err","console","log","getInitialCards","onNewAvatar","onEditProfile","onCardAdd","map","card","i","onCardDelete"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { api } from \"../utils/Api\";\r\nimport Card from \"./Card\";\r\nimport profileImageAfterPath from \"../images/profile__image_after.svg\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport defaultProfileImagePath from \"../images/profile__image.jpg\";{/* дефолтная картинка, если у пользователя отсутствует соединение */}\r\n\r\nfunction Main(props) {\r\n\r\n  {/*_states_of_userData______*/}\r\n  const [userAvatar, setUserAvatar] = React.useState(`${defaultProfileImagePath}`);\r\n  const [userDescription, setUserDescription] = React.useState(\"\");\r\n  const [userName, setUserName] = React.useState(\"\");\r\n  /*---------------------------*/\r\n\r\n  {/*_state_of_imagePopup______*/}\r\n  const [isElementPopupOpen, setIsElementPopupOpen] = React.useState(false);\r\n  const [data, setData] = React.useState({ name: \"\", link: \"\" });\r\n  /*---------------------------*/\r\n\r\n  {/*_state_of_cardArray______*/}\r\n  const [cards, setCards] = React.useState([]);\r\n  /*---------------------------*/\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getInfoAboutUser()\r\n      .then((res) => {\r\n        setUserName(res.name);\r\n        setUserDescription(res.about);\r\n        setUserAvatar(res.avatar);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    api\r\n      .getInitialCards()\r\n      .then((res) => {\r\n        setCards([...cards, ...res]);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__main-container\">\r\n          <div\r\n            className=\"profile__picture-container\"\r\n            onClick={props.onNewAvatar}\r\n          >\r\n            <img\r\n              src={userAvatar}\r\n              className=\"profile__image\"\r\n              alt=\"аватарка пользователя\"\r\n            />\r\n            <img\r\n              src={profileImageAfterPath}\r\n              className=\"profile__avatar-edit\"\r\n              alt=\"Редактирование\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__text\">\r\n              <h1 className=\"profile__name\">{userName}</h1>\r\n              <p className=\"profile__about\">{userDescription}</p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              aria-label=\"редактировать профиль\"\r\n              onClick={props.onEditProfile}\r\n            />\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__button\"\r\n          onClick={props.onCardAdd}\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map((card, i) => (\r\n          <Card\r\n            card={card}\r\n            key={i}\r\n            onClose={props.onCardDelete}\r\n            onCardClick={() => {\r\n              setData({\r\n                ...data,\r\n                name: `${card.name}`,\r\n                link: `${card.link}`,\r\n              });\r\n              setIsElementPopupOpen(true);\r\n            }}\r\n          />\r\n        ))}\r\n\r\n        {/*.element-popup.*/}\r\n        {isElementPopupOpen && (\r\n          <ImagePopup\r\n            name={data.name}\r\n            imageSrc={data.link}\r\n            isOpen={true}\r\n            onClose={() => {\r\n              setIsElementPopupOpen(false);\r\n            }}\r\n          />\r\n        )} {/* не стал выносить его из Main, ибо в прошлом проекте данный оверлей находился именно здесь_*/}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}